<!DOCTYPE html>
<html lang="en" dir=>

<head>
	<meta name="generator" content="Hugo 0.73.0" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Flexkube Flexkube is a minimalistic and flexible Kubernetes distribution, providing tools to manage each main Kubernetes component independently, which can be used together to create Kubernetes clusters.
Core part of the project is libflexkube, a Go library providing logic for managing Kubernetes components (e.g. etcd, kubelet, certificates) and reference implementation of CLI tool and Terraform provider.
Installation and usage For quick examples of installation and usage, see the content below. For full documentation, see Getting started.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://flexkube.github.io/" />

<title> | Flexkube</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.c3e2d100ba2319549e09b81b242634766bd799847cf02e1d6fa2426a64db14dc.css" integrity="sha256-w&#43;LRALojGVSeCbgbJCY0dmvXmYR88C4db6JCamTbFNw=">
<script defer src="/en.search.min.4e1689ee5c0e9d248474bea674a3e2e7bf2188562bccf0541bd2edc00e3d7136.js" integrity="sha256-ThaJ7lwOnSSEdL6mdKPi578hiFYrzPBUG9LtwA49cTY="></script>
<link rel="alternate" type="application/rss+xml" href="https://flexkube.github.io/index.xml" title="Flexkube" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#0076a5">
<meta name="msapplication-TileColor" content="#00aba9">
<meta name="theme-color" content="#ffffff">

</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><img src="/assets/icon.svg" alt="Logo" /><span>Flexkube</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  <ul>
<li><a href="/documentation/"><strong>Documentation</strong></a>
<ul>
<li><a href="/documentation/getting-started/">Getting Started</a>
<ul>
<li><a href="/documentation/getting-started/requirements/">Requirements</a>
<ul>
<li><a href="/documentation/getting-started/requirements/creating-virtual-machines-for-testing/">Creating virtual machines for testing</a></li>
</ul>
</li>
<li><a href="/documentation/getting-started/installing/">Installing</a>
<ul>
<li><a href="/documentation/getting-started/installing/cli/">CLI binary</a></li>
<li><a href="/documentation/getting-started/installing/terraform/">Terraform Provider</a></li>
<li><a href="/documentation/getting-started/installing/go/">Go module</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/documentation/guides/">Guides</a>
<ul>
<li><a href="/documentation/guides/etcd/">etcd</a>
<ul>
<li><a href="/documentation/guides/etcd/creating-single-member-cluster-on-local-machine-using-terraform/">Creating single-member cluster on local machine using Terraform</a></li>
<li><a href="/documentation/guides/etcd/creating-single-member-cluster-on-local-machine-using-flexkube-cli/">Creating single-member cluster on local machine using Flexkube CLI</a></li>
<li><a href="/documentation/guides/etcd/creating-multi-member-cluster-over-ssh-using-terraform/">Creating multi-node cluster over SSH using Terraform</a></li>
</ul>
</li>
<li><a href="/documentation/guides/kubernetes/">Kubernetes</a>
<ul>
<li><a href="/documentation/guides/kubernetes/creating-single-node-cluster-on-local-machine-using-flexkube-cli/">Creating single-node cluster on local machine using &ldquo;flexkube&rdquo; CLI</a></li>
<li><a href="/documentation/guides/kubernetes/creating-single-node-cluster-on-local-machine-using-terraform/">Creating single-node cluster on local machine using Terraform</a></li>
<li><a href="/documentation/guides/kubernetes/creating-multi-node-cluster-using-terraform/">Creating multi-node cluster using Terraform</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/documentation/examples/">Examples</a>
<ul>
<li><a href="/documentation/examples/cli/">CLI</a></li>
<li><a href="/documentation/examples/terraform/">Terraform</a></li>
<li><a href="/documentation/examples/go/">Go</a></li>
</ul>
</li>
<li><a href="/documentation/concepts/">Concepts</a>
<ul>
<li><a href="/documentation/concepts/managing-containers/">Managing containers</a></li>
<li><a href="/documentation/concepts/managing-certificates/">Managing Kubernetes certificates</a></li>
<li><a href="/documentation/concepts/supported-transport-protocols/">Supported transport protocols</a>
<ul>
<li><a href="/documentation/concepts/supported-transport-protocols/direct/">Direct</a></li>
<li><a href="/documentation/concepts/supported-transport-protocols/ssh/">SSH</a></li>
</ul>
</li>
<li><a href="/documentation/concepts/supported-container-runtimes/">Supported container runtimes</a>
<ul>
<li><a href="/documentation/concepts/supported-container-runtimes/docker/">Docker</a></li>
</ul>
</li>
<li><a href="/documentation/concepts/self-hosted-kubernetes-controlplane/">Self-hosted Kubernetes controlplane</a></li>
</ul>
</li>
<li><a href="/documentation/resources/">Resources</a>
<ul>
<li><a href="/documentation/resources/pki/">PKI</a></li>
<li><a href="/documentation/resources/etcd/">etcd</a></li>
<li><a href="/documentation/resources/api-loadbalancer/">API Load Balancer</a></li>
<li><a href="/documentation/resources/controlplane/">Controlplane</a></li>
<li><a href="/documentation/resources/kubelet-pool/">Kubelet Pool</a></li>
<li><a href="/documentation/resources/containers/">Containers</a></li>
</ul>
</li>
<li><a href="/documentation/helm-charts/">Helm charts</a>
<ul>
<li><a href="/documentation/helm-charts/maintained/">Maintained</a>
<ul>
<li><a href="/documentation/helm-charts/maintained/calico/">calico</a></li>
<li><a href="/documentation/helm-charts/maintained/kube-apiserver/">kube-apiserver</a></li>
<li><a href="/documentation/helm-charts/maintained/kube-proxy/">kube-proxy</a></li>
<li><a href="/documentation/helm-charts/maintained/kubelet-rubber-stamp/">kubelet-rubber-stamp</a></li>
<li><a href="/documentation/helm-charts/maintained/kubernetes/">kubernetes</a></li>
<li><a href="/documentation/helm-charts/maintained/tls-bootstrapping/">tls-bootstrapping</a></li>
</ul>
</li>
<li><a href="/documentation/helm-charts/upstream/">Upstream</a>
<ul>
<li><a href="/documentation/helm-charts/upstream/stable-coredns/">stable/coredns</a></li>
<li><a href="/documentation/helm-charts/upstream/stable-metrics-server/">stable/metrics-server</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/documentation/reference/">Reference</a>
<ul>
<li><a href="/documentation/reference/cli/">CLI</a>
<ul>
<li><a href="/documentation/reference/cli/configuration/">Configuration</a>
<ul>
<li><a href="/documentation/reference/cli/configuration/kubelet-pool/">kubelet-pool</a></li>
<li><a href="/documentation/reference/cli/configuration/apiloadbalancer-pool/">apiloadbalancer-pool</a></li>
<li><a href="/documentation/reference/cli/configuration/etcd/">etcd</a></li>
<li><a href="/documentation/reference/cli/configuration/pki/">pki</a></li>
<li><a href="/documentation/reference/cli/configuration/controlplane/">controlplane</a></li>
<li><a href="/documentation/reference/cli/configuration/containers/">containers</a></li>
</ul>
</li>
<li><a href="/documentation/reference/cli/commands/">Commands</a>
<ul>
<li><a href="/documentation/reference/cli/commands/kubelet-pool/">kubelet-pool</a></li>
<li><a href="/documentation/reference/cli/commands/apiloadbalancer-pool/">apiloadbalancer-pool</a></li>
<li><a href="/documentation/reference/cli/commands/etcd/">etcd</a></li>
<li><a href="/documentation/reference/cli/commands/pki/">pki</a></li>
<li><a href="/documentation/reference/cli/commands/controlplane/">controlplane</a></li>
<li><a href="/documentation/reference/cli/commands/kubeconfig/">kubeconfig</a></li>
<li><a href="/documentation/reference/cli/commands/containers/">containers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/documentation/reference/terraform/">Terraform</a>
<ul>
<li><a href="/documentation/reference/terraform/flexkube-provider/">Flexkube provider</a></li>
<li><a href="/documentation/reference/terraform/resources/">Resources</a>
<ul>
<li><a href="/documentation/reference/terraform/resources/flexkube_pki/">flexkube_pki</a></li>
<li><a href="/documentation/reference/terraform/resources/flexkube_etcd_cluster/">flexkube_etcd_cluster</a></li>
<li><a href="/documentation/reference/terraform/resources/flexkube_controlplane/">flexkube_controlplane</a></li>
<li><a href="/documentation/reference/terraform/resources/flexkube_api_loadbalancer_pool/">flexkube_api_loadbalancer_pool</a></li>
<li><a href="/documentation/reference/terraform/resources/flexkube_kubelet_pool/">flexkube_kubelet_pool</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/documentation/reference/helm-charts/">Helm charts</a>
<ul>
<li><a href="/documentation/reference/helm-charts/kube-apiserver/">kube-apiserver</a></li>
<li><a href="/documentation/reference/helm-charts/kubernetes/">kubernetes</a></li>
<li><a href="/documentation/reference/helm-charts/tls-bootstrapping/">tls-bootstrapping</a></li>
<li><a href="/documentation/reference/helm-charts/calico/">calico</a></li>
<li><a href="/documentation/reference/helm-charts/kubelet-rubber-stamp/">kubelet-rubber-stamp</a></li>
</ul>
</li>
<li><a href="/documentation/reference/go/">Go</a></li>
</ul>
</li>
<li><a href="/documentation/project-status/">Project status</a></li>
</ul>
</li>
</ul>










</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong></strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#installation-and-usage">Installation and usage</a>
      <ul>
        <li><a href="#cli-tool">CLI tool</a></li>
        <li><a href="#terraform">Terraform</a></li>
        <li><a href="#next-steps">Next steps</a></li>
      </ul>
    </li>
    <li><a href="#characteristics">Characteristics</a></li>
    <li><a href="#features">Features</a></li>
    <li><a href="#known-issues-missing-features-and-limitations">Known issues, missing features and limitations</a></li>
    <li><a href="#contributing">Contributing</a></li>
    <li><a href="#status-of-the-project">Status of the project</a></li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="flexkube">Flexkube</h1>
<p>Flexkube is a minimalistic and flexible Kubernetes distribution, providing tools to manage each main Kubernetes component independently, which can be used together to create Kubernetes clusters.</p>
<p>Core part of the project is <a href="https://github.com/flexkube/libflexkube">libflexkube</a>, a Go library providing logic for managing Kubernetes components (e.g. <a href="https://etcd.io/">etcd</a>, <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/">kubelet</a>, <a href="https://kubernetes.io/docs/setup/best-practices/certificates/">certificates</a>) and reference implementation of CLI tool and <a href="https://terraform.io">Terraform</a> provider.</p>
<h2 id="installation-and-usage">Installation and usage</h2>
<p>For quick examples of installation and usage, see the content below. For full documentation, see <a href="/documentation/getting-started/">Getting started</a>.</p>
<h3 id="cli-tool">CLI tool</h3>
<p>If you have <code>go</code> binary available in your system, you can start using Flexkube for creating Kubernetes certificates just by running the following commands:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">echo <span style="color:#e6db74">&#39;pki:
</span><span style="color:#e6db74">  kubernetes: {}
</span><span style="color:#e6db74">  etcd: {}&#39;</span> &gt; config.yaml
go run github.com/flexkube/libflexkube/cmd/flexkube pki
</code></pre></div><p>It will create <code>config.yaml</code> configuration file which will be consumed by <code>flexkube</code> CLI tool, which will then generate the certificates into <code>state.yaml</code> file.</p>
<h3 id="terraform">Terraform</h3>
<p>If you want to perform the same action using Terraform, execute the following commands:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">VERSION<span style="color:#f92672">=</span>v0.3.1 wget -qO- https://github.com/flexkube/libflexkube/releases/download/$VERSION/terraform-provider-flexkube_$VERSION_linux_amd64.tar.gz | tar zxvf - terraform-provider-flexkube_$VERSION_x4
echo <span style="color:#e6db74">&#39;resource &#34;flexkube_pki&#34; &#34;pki&#34; {
</span><span style="color:#e6db74">  etcd {}
</span><span style="color:#e6db74">  kubernetes {}
</span><span style="color:#e6db74">}&#39;</span> &gt; main.tf
terraform init <span style="color:#f92672">&amp;&amp;</span> terraform apply
</code></pre></div><p>After applying, Kubernetes certificates should be available as Terraform resource attributes of <code>flexkube_pki.pki</code> resource.</p>
<h3 id="next-steps">Next steps</h3>
<p>For more detailed instructions of how to use Flexkube, see the user <a href="https://flexkube.github.io/documentation/guides">guides</a>.</p>
<h2 id="characteristics">Characteristics</h2>
<p>Flexkube project focuses on simplicity and tries to only do minimal amount of steps in order to get Kubernetes cluster running, while keeping the configuration flexible and extensible. It is also a good material for learning how Kubernetes cluster is set up, as each part of the cluster is managed independently and code contains a lot of comments why specific flag/option is needed and what purpose does it serve.</p>
<p>Parts of this project could possibly be used in other Kubernetes distributions or be used as a configuration reference, as setting up Kubernetes components requires many flags and configuration files to be created.</p>
<p>Flexkube do not manage infrastructure for running Kubernetes clusters, it must be provided by the user.</p>
<h2 id="features">Features</h2>
<p>Here is the short list of Flexkube project features:</p>
<ul>
<li>Minimal host requirements - Use SSH connection forwarding for talking directly to the container runtime on remote machines for managing static containers and configuration files.</li>
<li>Independent management of etcd, kubelets, static control plane and self-hosted components.</li>
<li>All self-hosted control plane components managed using Helm 3 (e.g CoreDNS).</li>
<li>1st class support for Terraform provider for automation.</li>
<li>No Public DNS or any other public discovery service is required for getting cluster up and running.</li>
<li>Others:
<ul>
<li>etcd, kubelet and static control plane running as containers.</li>
<li>Self-hosted control plane.</li>
<li>Supported container runtimes:
<ul>
<li>Docker</li>
</ul>
</li>
<li>Configuration via YAML or via Terraform.</li>
<li>Deployment using CLI tools or via Terraform.</li>
<li>HAProxy for load-balancing and fail-over between Kubernetes API servers.</li>
</ul>
</li>
</ul>
<h2 id="known-issues-missing-features-and-limitations">Known issues, missing features and limitations</h2>
<p>As the project is still in the early stages, here is the list of major existing issues or missing features, which are likely to be implemented in the future:</p>
<ul>
<li>gracefully replacing CA certificates (if private key does not change, it should work, but has not been tested)</li>
<li>no checkpointer for pods/apiserver. If static kube-apiserver container is stopped and node reboots, single node cluster will not come back.</li>
</ul>
<p>And features, which are not yet implemented:</p>
<ul>
<li>network policies for kube-system namespace</li>
<li>caching port forwarding</li>
<li>bastion host(s) support for SSH</li>
<li>parallel deployments across hosts</li>
<li>removal of configuration files, created data and containers</li>
<li>automatic shutdown/start of bootstrap control plane</li>
</ul>
<h2 id="contributing">Contributing</h2>
<p>All contributions to this project are welcome. If it does not satisfy your needs, feel free to raise an issue about it or implement the support yourself and create a pull request with the patch, so we can all benefit from it.</p>
<p>If you just want to help the project grow and mature, there are many TODOs spread across the code, which should be addresses sooner or later.</p>
<h2 id="status-of-the-project">Status of the project</h2>
<p>At the time of writing, this project is in active development state and it is not suitable for production use. Breaking changes might be introduced at any point in time, for both library interface and for existing deployments.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





  <div>
    <a class="flex align-center" href="https://github.com/flexkube/website/edit/master/content//_index.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>

</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#installation-and-usage">Installation and usage</a>
      <ul>
        <li><a href="#cli-tool">CLI tool</a></li>
        <li><a href="#terraform">Terraform</a></li>
        <li><a href="#next-steps">Next steps</a></li>
      </ul>
    </li>
    <li><a href="#characteristics">Characteristics</a></li>
    <li><a href="#features">Features</a></li>
    <li><a href="#known-issues-missing-features-and-limitations">Known issues, missing features and limitations</a></li>
    <li><a href="#contributing">Contributing</a></li>
    <li><a href="#status-of-the-project">Status of the project</a></li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












